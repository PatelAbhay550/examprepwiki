---
interface Props {
	title: string;
	description: string;
	href: string;
	category?: string;
	tags?: string[];
	image?: string;
}

const { title, description, href, category, tags, image } = Astro.props;
---

<article class="card">
	{image && (
		<div class="card-image">
			<img src={image} alt={title} loading="lazy" />
		</div>
	)}
	<div class="card-content">
		{category && (
			<span class="card-category">{category}</span>
		)}
		<h3 class="card-title">
			<a href={href}>{title}</a>
		</h3>
		<p class="card-description">{description}</p>
		{tags && tags.length > 0 && (
			<div class="card-tags">
				{tags.map((tag) => (
					<span class="tag">{tag}</span>
				))}
			</div>
		)}
	</div>
</article>

<style>
	.card {
		background-color: var(--color-bg-primary);
		border: 1px solid var(--color-border-light);
		border-radius: var(--radius-sm);
		overflow: hidden;
		transition: box-shadow 0.2s, border-color 0.2s;
	}
	
	.card:hover {
		border-color: var(--color-border);
		box-shadow: var(--shadow-md);
	}
	
	.card-image {
		width: 100%;
		height: 180px;
		overflow: hidden;
		background-color: var(--color-bg-secondary);
	}
	
	.card-image img {
		width: 100%;
		height: 100%;
		object-fit: cover;
	}
	
	.card-content {
		padding: var(--space-md);
	}
	
	.card-category {
		display: inline-block;
		font-size: var(--font-size-small);
		color: var(--color-text-tertiary);
		text-transform: uppercase;
		letter-spacing: 0.05em;
		margin-bottom: var(--space-xs);
	}
	
	.card-title {
		font-family: var(--font-serif);
		font-size: var(--font-size-h4);
		margin: 0 0 var(--space-sm) 0;
		border-bottom: none;
		padding-bottom: 0;
	}
	
	.card-title a {
		color: var(--color-text-primary);
		text-decoration: none;
	}
	
	.card-title a:hover {
		color: var(--color-link);
		text-decoration: none;
	}
	
	.card-description {
		font-size: var(--font-size-small);
		color: var(--color-text-secondary);
		line-height: 1.5;
		margin-bottom: var(--space-md);
	}
	
	.card-tags {
		display: flex;
		flex-wrap: wrap;
		gap: var(--space-xs);
		margin-top: var(--space-sm);
	}
	
	.tag {
		display: inline-block;
		padding: 0.125rem 0.5rem;
		background-color: var(--color-bg-secondary);
		color: var(--color-text-secondary);
		font-size: 0.75rem;
		border-radius: var(--radius-sm);
		border: 1px solid var(--color-border-light);
	}
</style>
